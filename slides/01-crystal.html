<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.163">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>crystal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="01-crystal_files/libs/clipboard/clipboard.min.js"></script>
<script src="01-crystal_files/libs/quarto-html/quarto.js"></script>
<script src="01-crystal_files/libs/quarto-html/popper.min.js"></script>
<script src="01-crystal_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01-crystal_files/libs/quarto-html/anchor.min.js"></script>
<link href="01-crystal_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01-crystal_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01-crystal_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01-crystal_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01-crystal_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<div class="cell">

</div>
<section id="principles-of-data-management" class="level1">
<h1>Principles of Data Management</h1>
<div class="notes">
<p>Welcome to the first section of this workshop. We are going to spend the next 30 minutes or so reviewing some foundational principles of data management before we dive into writing R code.</p>
</div>
<section id="data-horror-stories" class="level2">
<h2 class="anchored" data-anchor-id="data-horror-stories">Data Horror Stories</h2>
<div class="r-stack">
<p><img src="images/messy_spreadsheet1.PNG" class="fragment" width="850" height="550"></p>
<p><img src="images/messy_spreadsheet2.PNG" class="fragment" width="650" height="450"></p>
<p><img src="images/messy_spreadsheet3.PNG" class="fragment" width="550" height="250"></p>
</div>
<div class="notes">
<p>And upon receiving those spreadsheets, you feel something like this</p>
</div>
</section>
<section id="data-horror-stories-1" class="level2">
<h2 class="anchored" data-anchor-id="data-horror-stories-1">Data Horror Stories</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/disappointment.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
<div class="footer">
<p>Image from knowyourmeme.com</p>
</div>
</section>
<section id="data-organizing-principles" class="level2">
<h2 class="anchored" data-anchor-id="data-organizing-principles">Data Organizing Principles</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Data Structure</li>
<li>Variable Values</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Variable Types</li>
<li>Missing Data</li>
</ul>
</div>
</div>
<p><img src="images/messy_data.PNG" class="img-fluid"></p>
<div class="notes">
<p>So we are going to talk about data organizing principles associated with 4 practices that will help you better think through how to wrangle those messy datasets</p>
</div>
</section>
<section id="data-structure" class="level2">
<h2 class="anchored" data-anchor-id="data-structure">Data Structure</h2>
<ol type="1">
<li>Data should make a rectangle of rows and columns
<ul>
<li>You should have the expected number of rows (cases in your data)</li>
<li>You should have the expected number of columns (variables in your data)</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/row_col.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="notes">
<p>And at the intersection of those rows and columns are cells filled with values</p>
<p>You should have no more or no less than you expect. And when I say “expect”, hopefully have some idea of what should exist in your data. Either you collected it yourself so you have an idea, or you have been given a codebook or data dictionary that tells you what should exist in the data.</p>
<pre><code>- Extra columns in your data may mean that you have empty columns or unexpected variables in your data  
- Extra rows could mean you have duplicate or empty rows in your data  
- Less columns in your data means you might be missing variables  
- Less rows in your data means you may be missing cases  </code></pre>
<p>And these are things that need to be remedied in our data cleaning process</p>
</div>
</section>
<section id="data-structure-1" class="level2">
<h2 class="anchored" data-anchor-id="data-structure-1">Data Structure</h2>
<ol start="2" type="1">
<li>Variable names should be the first, and <strong>only</strong> the first, row of your data
<ul>
<li>They should also adhere to variable name best practices
<ul>
<li>Make variable names meaningful (<code>gender</code> instead of <code>X1</code>)</li>
<li>Don’t start with a number</li>
<li>No spaces in variable names</li>
<li>No special characters except <code>_</code>
<ul>
<li>So no <code>/</code>, <code>-</code>, <code>!</code>, <code>"</code></li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<div class="notes">
<p>These aren’t just arbitrary practices. They serve a purpose.</p>
<pre><code>- First, they make your variable names more interpretable and easier to work with  
- They also make your variables more compatiable with languages such as R. For instance, R does not allow variable names to start with numbers. It will give you an error if you do this. </code></pre>
</div>
</section>
<section id="data-structure-exercise" class="level2">
<h2 class="anchored" data-anchor-id="data-structure-exercise">Data Structure Exercise</h2>
<p><br></p>
<p>What data structure issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/messy_data.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
<p><br></p>
<p><strong>1 minute timer</strong></p>
<div class="notes">
<p>So let’s do a quick exercise. Take one minute to review this messy data and look for any structure issues going on here. And by structure I mean review both how the rows and columns are laid out as well as variable names. If you find any errors, type them in the chat.</p>
</div>
</section>
<section id="data-structure-2" class="level2">
<h2 class="anchored" data-anchor-id="data-structure-2">Data Structure</h2>
<ul>
<li>Variable names are not the first row of the data</li>
<li>Our data does not make a rectangle - Empty column, empty rows</li>
<li>Variable names do not adhere to best practices</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/structure.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="variable-values" class="level2">
<h2 class="anchored" data-anchor-id="variable-values">Variable Values</h2>
<ol type="1">
<li>Values should be explicit, not implicit
<ul>
<li>If a blank cell is implied to be zero, fill that cell with an actual zero</li>
<li>No color coding should be used to indicate information. Make a new variable.</li>
</ul></li>
</ol>
<div class="incremental">
<ol start="2" type="1">
<li>Values should be analyzable. This means no more than one measure should be captured in a variable.</li>
</ol>
</div>
<div class="incremental">
<ol start="3" type="1">
<li>Variables should be captured consistently within a column
<ul>
<li>Dates captured consistently (i.e.&nbsp;YYYY-MM-DD)</li>
<li>Categories captured consistently (both spelling and capitalization)</li>
<li>If the variable is numeric, values should fall within your expected range</li>
</ul></li>
</ol>
<div class="notes">
<ol type="1">
<li><p>We don’t ever want anyone to have to guess what a cell value means</p></li>
<li><p>So for instance, we don’t want both weight and height in the same variable. It would be very difficult to analyze a variable with combined information. We would want to split this information into two columns.</p></li>
<li><p>Pick a format and stick to it</p></li>
</ol>
<ul>
<li><p>For instance if you could make a decision to always capture dates in this ISO 8601 standardized format</p></li>
<li><p>So if you’re capture gender, you always want to spell male the same way, always want to spell female the same way. This allows your data to be easily categorized.</p></li>
<li><p>So if the range for a variable is 1-50, you shouldn’t see values outside of that range</p></li>
</ul>
</div>
</div>
</section>
<section id="variable-values-exercise" class="level2">
<h2 class="anchored" data-anchor-id="variable-values-exercise">Variable Values Exercise</h2>
<p><br></p>
<p>What variable value issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/messy_data.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
<p><br></p>
<p><strong>1 minute timer</strong></p>
</section>
<section id="variable-values-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-values-1">Variable Values</h2>
<ul>
<li>Color coding used to indicate information</li>
<li>Two things measured in one column</li>
<li>Categorical values captured inconsistently</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/values.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="variable-types" class="level2">
<h2 class="anchored" data-anchor-id="variable-types">Variable Types</h2>
<p>Variables should be stored as your expected type (or in R terms - <code>class</code>)</p>
<div class="incremental">
<ol type="1">
<li><strong>Numeric</strong>
<ul>
<li>Contain numeric values (14.5, 14.539, 789, -24)</li>
<li>Numeric variables cannot contain special characters, spaces, or letters
<ul>
<li>100mg</li>
<li>83/150</li>
<li>” 89”</li>
</ul></li>
</ul></li>
</ol>
</div>
<div class="incremental">
<ol start="2" type="1">
<li><strong>Date, Time, Date-Time</strong>
<ul>
<li>Represented in R as either <code>&lt;date&gt;</code>, <code>&lt;time&gt;</code> or <code>&lt;dttm&gt;</code>/<code>&lt;POSIXct&gt;</code></li>
<li>Allow you to perform calculations on dates</li>
</ul></li>
</ol>
<div class="notes">
<p>In R, type actually refers to how the variable is stored. Here we are more concerned about the abstract type that tells us how we can actually use the variable for analyses and so forth. And in R, that’s actually called variable class.</p>
<p>So let’s review a few of these variable classes.</p>
<ol start="2" type="1">
<li>Because of the way dates are stored in R, they allow you to perform calculations using your dates, which is cool. You can add dates, subtract dates, etc. So as long as your dates are stored as dates, then we are good. However, if your dates are stored as character values, you will not be able to perform calculations on your dates.</li>
</ol>
<p>It’s important to check your date types when you read in your data. While sometimes they are read in as dates, othertimes they may be read in as character values or numeric values and it’s important to be aware of this.</p>
</div>
</div>
</section>
<section id="variable-types-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-1">Variable Types</h2>
<ol start="3" type="1">
<li><strong>Character</strong>
<ul>
<li>Contain character values or strings (“kg”, “R in Medicine”, “11.5”, “5mg”)</li>
</ul></li>
</ol>
<div class="incremental">
<ol start="4" type="1">
<li><strong>Factor</strong>
<ul>
<li>A special class of variables, helpful when working with categorical or ordinal variables</li>
<li>Factors assign an order to your variable groups</li>
<li>You must assign this class to your variables
<ul>
<li>Does anyone remember the default <code>stringsAsFactors = TRUE</code>?</li>
</ul></li>
<li>You can learn more about working with factors in this article: <a href="https://peerj.com/preprints/3163/">https://peerj.com/preprints/3163/</a></li>
</ul></li>
</ol>
<div class="notes">
<ol start="3" type="1">
<li><p>You can even store numbers as characters</p></li>
<li><p>Very useful for ordering your groups in tables, graphs, or models</p></li>
</ol>
<p>So when you read in your data, your character variables will not automatically be assigned as factors. You need to assign this class yourself.</p>
<p>If anyone remembers the controversial default of strings as factors = TRUE from the old days, then you probably already know what I’m talking about</p>
<p>Just a warning, factors can be a little tricky to work with, especially when converting from factor back to a numeric variable. You can learn more about working with factors in this article from Amelia McNamara and Nicholas Horton.</p>
</div>
</div>
</section>
<section id="variable-types-exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-exercise-1">Variable Types Exercise 1</h2>
<p>What is the R class for the following variables?</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">var1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">var1 type</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">var2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">var2 type</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">var3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">var3 type</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] " 7.5" "2"    "3.6" </code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] medium medium low    high   low   
Levels: low medium high</code></pre>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "50kg" "59kg" "82kg"</code></pre>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="variable-types-exercise-2" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-exercise-2">Variable Types Exercise 2</h2>
<p><br></p>
<p>What variable type issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/type_clean.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
<p><br></p>
<p><strong>1 minute timer</strong></p>
</section>
<section id="variable-types-2" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-2">Variable Types</h2>
<ul>
<li>Dates stored as numbers</li>
<li>Special characters in numeric variables</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/type.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="missing-data" class="level2">
<h2 class="anchored" data-anchor-id="missing-data">Missing Data</h2>
<ol type="1">
<li>Missing data should appear as you expect it to
<ul>
<li>The amount of missingness</li>
<li>The variables/cases that data is missing for</li>
</ul></li>
</ol>
<div class="incremental">
<ol start="2" type="1">
<li>Use consistent values to indicate missing responses
<ul>
<li>Blanks? NAs? -999?</li>
<li>The missing values should match your variable type
<ul>
<li>i.e., Don’t use “no response” in a numeric variable</li>
</ul></li>
</ul></li>
</ol>
<div class="notes">
<ol start="2" type="1">
<li>So there are varying opinions on how missing data should be assigned. Some people think that missing data should be explicitly assigned with a value like -999. That way you know that the cell wasn’t just skipped over by accident when data was being entered.</li>
</ol>
<p>Some people prefer to just leave the cell blank to not cause confusion by adding extreme values to a variable.</p>
<p>I personally have no preference for which method you use. What is important though, is that you use consistent values to represent missing data (choose one and stick with it) AND that your missing values match your variable type.</p>
</div>
</div>
</section>
<section id="missing-data-exercise" class="level2">
<h2 class="anchored" data-anchor-id="missing-data-exercise">Missing Data Exercise</h2>
<p><br></p>
<p>What missing data issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/missing_clean.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
<p><br></p>
<p><strong>1 minute timer</strong></p>
</section>
<section id="missing-data-1" class="level2">
<h2 class="anchored" data-anchor-id="missing-data-1">Missing Data</h2>
<ul>
<li>Unexpected missing data</li>
<li>Inconsistent missing values used</li>
<li>Missing values do not match variable type</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/missing.PNG" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="error-reduction" class="level2">
<h2 class="anchored" data-anchor-id="error-reduction">Error Reduction</h2>
<p>The number one way to reduce data errors is to make a plan before you collect data</p>
<blockquote class="blockquote">
<p>Correct data at the source</p>
</blockquote>
<p><br></p>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Plan the variables you want to collect</p>
</div>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build your data collection/entry tools in a way that follows your plan</p>
</div>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Test your data tools before collecting/entering data</p>
</div>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Check your data often during data collection/entry</p>
<div class="notes">
<p>So if you have the luxury of being able to collect your own data, you want to make sure that you spend time planning so you can correct data at the source</p>
</div>
</div>
</section>
<section id="plan-the-variables-you-want-to-collect" class="level2">
<h2 class="anchored" data-anchor-id="plan-the-variables-you-want-to-collect">Plan the variables you want to collect</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Necessary to plan for</strong></p>
<ul>
<li>Variable name</li>
<li>Variable label/item wording</li>
<li>Variable type</li>
<li>Allowable values/ranges</li>
<li>Missing values</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Nice to plan for</strong></p>
<ul>
<li>Skip patterns</li>
<li>Required items</li>
<li>Variable universe</li>
</ul>
</div>
</div>
<div class="notes">
<p>These items on the right can be really helpful to plan for if you are collecting something like survey data in particular. These items will help you better understand when and why you might have missing data for items.</p>
<ol type="1">
<li>Are there skip or display patterns for any items? What is the logic behind those?</li>
<li>Were items required or were people allowed to skip items?</li>
<li>What is the variable universe for each item? Did the whole sample get each item or were some items only shown to a subsample of your group?</li>
</ol>
</div>
</section>
<section id="add-those-variables-to-a-data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="add-those-variables-to-a-data-dictionary">Add those variables to a data dictionary</h2>
<p><br></p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tibble' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'purrr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'stringr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'forcats' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lubridate' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --
v dplyr     1.1.1     v readr     2.1.4
v forcats   1.0.0     v stringr   1.5.0
v ggplot2   3.4.1     v tibble    3.2.1
v lubridate 1.9.2     v tidyr     1.3.0
v purrr     1.0.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()
i Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="cell-output-display">

<div id="mrkbhfmmlb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mrkbhfmmlb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mrkbhfmmlb thead, #mrkbhfmmlb tbody, #mrkbhfmmlb tfoot, #mrkbhfmmlb tr, #mrkbhfmmlb td, #mrkbhfmmlb th {
  border-style: none;
}

#mrkbhfmmlb p {
  margin: 0;
  padding: 0;
}

#mrkbhfmmlb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mrkbhfmmlb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mrkbhfmmlb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mrkbhfmmlb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mrkbhfmmlb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mrkbhfmmlb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mrkbhfmmlb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mrkbhfmmlb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mrkbhfmmlb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mrkbhfmmlb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mrkbhfmmlb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mrkbhfmmlb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mrkbhfmmlb .gt_spanner_row {
  border-bottom-style: hidden;
}

#mrkbhfmmlb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mrkbhfmmlb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mrkbhfmmlb .gt_from_md > :first-child {
  margin-top: 0;
}

#mrkbhfmmlb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mrkbhfmmlb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mrkbhfmmlb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mrkbhfmmlb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mrkbhfmmlb .gt_row_group_first td {
  border-top-width: 2px;
}

#mrkbhfmmlb .gt_row_group_first th {
  border-top-width: 2px;
}

#mrkbhfmmlb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mrkbhfmmlb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mrkbhfmmlb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mrkbhfmmlb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mrkbhfmmlb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mrkbhfmmlb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mrkbhfmmlb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mrkbhfmmlb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mrkbhfmmlb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mrkbhfmmlb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mrkbhfmmlb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mrkbhfmmlb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mrkbhfmmlb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mrkbhfmmlb .gt_left {
  text-align: left;
}

#mrkbhfmmlb .gt_center {
  text-align: center;
}

#mrkbhfmmlb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mrkbhfmmlb .gt_font_normal {
  font-weight: normal;
}

#mrkbhfmmlb .gt_font_bold {
  font-weight: bold;
}

#mrkbhfmmlb .gt_font_italic {
  font-style: italic;
}

#mrkbhfmmlb .gt_super {
  font-size: 65%;
}

#mrkbhfmmlb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mrkbhfmmlb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mrkbhfmmlb .gt_indent_1 {
  text-indent: 5px;
}

#mrkbhfmmlb .gt_indent_2 {
  text-indent: 10px;
}

#mrkbhfmmlb .gt_indent_3 {
  text-indent: 15px;
}

#mrkbhfmmlb .gt_indent_4 {
  text-indent: 20px;
}

#mrkbhfmmlb .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="var_name">var_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label">label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="type">type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="values">values</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="var_name" class="gt_row gt_left">pat_id</td>
<td headers="label" class="gt_row gt_left">Patient Identifier</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">001-030</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">treatment</td>
<td headers="label" class="gt_row gt_left">Treatment for UC</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">upa; uste; oza</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">start_date</td>
<td headers="label" class="gt_row gt_left">Date of start of treatment</td>
<td headers="type" class="gt_row gt_left">date</td>
<td headers="values" class="gt_row gt_left">YYYY-MM-DD</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">ethnic</td>
<td headers="label" class="gt_row gt_left">Ethnicity - hispanic or not hispanic</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">hispanic; not hispanic</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">start_mes</td>
<td headers="label" class="gt_row gt_left">Mayo endoscopic Score at start of treatment</td>
<td headers="type" class="gt_row gt_left">numeric</td>
<td headers="values" class="gt_row gt_left">0-3</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<div class="notes">
<p>A data dictionary is a rectangular formatted collection of names, definitions, and attributes about variables in a dataset</p>
<p>Set this up similar to a dataset, with a row and column layout, with variable names in first row</p>
</div>
</section>
<section id="build-your-tools-based-on-your-data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="build-your-tools-based-on-your-data-dictionary">Build your tools based on your data dictionary</h2>
<div class="incremental">
<p><br></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Name your variables correctly in your tool</p>
<ul>
<li>Instead of Q1, Q2, Q3 -&gt; id, start_date, treatment</li>
</ul>
</div>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build items to only accept allowable values</p>
<ul>
<li>Only within specified range (0-50)</li>
<li>Only within specified categories (“hispanic”, “not hispanic”)</li>
</ul>
</div>
<div class="incremental">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build items to only accept specified variable types</p>
<ul>
<li>Only numeric values</li>
<li>Only dates in the YYYY-MM-DD format</li>
</ul>
<div class="notes">
<p>And by tool I mean whatever program you use to collect or enter data. So that could be Excel, RedCap, Qualtrics, or something else.</p>
<ol type="1">
<li><p>This reduces confusion during data entry, and also creates less data cleaning steps when you export your data</p></li>
<li><p>If working with numeric items, only allow values in a specified range, for example 0-50. You can set these validation rules in your tools, so that if someone tries to enter 51, it will say, this value is not allowed</p></li>
</ol>
<p>If working with categorical items, only allow values in specified categories. Here it can be really helpful to use something like a drop down menu instead of open text boxes to make sure you own collect allowable values only.</p>
<ol start="3" type="1">
<li>Again, you can set these content validation rules in your tools so that a warning will pop up when unexpected formats or types are entered</li>
</ol>
</div>
</div>
</section>
<section id="test-your-data-collection-or-entry-tool" class="level2">
<h2 class="anchored" data-anchor-id="test-your-data-collection-or-entry-tool">Test your data collection or entry tool</h2>
<ul>
<li>Collect/enter sample data
<ul>
<li>Are any items missing?</li>
<li>Are you getting unexpected values for items?
<ul>
<li>Values out of range</li>
<li>Incorrect formats</li>
<li>Inconsistent entries
<ul>
<li>“m”, “male”, “Male”, “MALE”</li>
</ul></li>
</ul></li>
<li>Is the display logic working as expected?</li>
<li>Are people able to skip items that they should not be able to skip?</li>
</ul></li>
</ul>
<div class="notes">
<p>If you find anything wrong, fix this in your tool before you begin to collect or enter data</p>
</div>
</section>
<section id="review-your-data-often-during-data-collection-or-entry" class="level2">
<h2 class="anchored" data-anchor-id="review-your-data-often-during-data-collection-or-entry">Review your data often during data collection or entry</h2>
<ol type="1">
<li>Validate your data based on your expectations
<ul>
<li><code>pointblank</code></li>
<li><code>validate</code></li>
<li><code>assertr</code></li>
<li>Excellent resource: <a href="https://www.youtube.com/watch?v=0d1c-8yw6Tk">https://www.youtube.com/watch?v=0d1c-8yw6Tk</a></li>
</ul></li>
</ol>
<div class="notes">
<p>One option for reviewing your data is to write code to validate your specified criteria. So you can write code to validate that variables are your expected types, fall within expected ranges, ids are not duplicated and so forth.</p>
<p>Here are a couple of packages that have functions specifically for this purpose and they export really helpful reports for you to review.</p>
<p>This is a link to a great talk on validation that reviews all of these packages and more. I highly recommend watching it.</p>
</div>
</section>
<section id="pointblank-report" class="level2">
<h2 class="anchored" data-anchor-id="pointblank-report"><code>pointblank</code> report</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Report</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>New names:
* `` -&gt; `...7`</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pointblank)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">create_agent</span>(df_raw) <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rows_distinct</span>(<span class="at">columns =</span> <span class="fu">vars</span>(pat_id)) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_vals_not_null</span>(<span class="at">columns =</span> <span class="fu">vars</span>(pat_id)) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_is_date</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_date)) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_is_numeric</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_mes)) <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_vals_in_set</span>(<span class="at">columns =</span> <span class="fu">vars</span>(treatment), <span class="at">set =</span> <span class="fu">c</span>(<span class="st">"upa"</span>, <span class="st">"uste"</span>, <span class="st">"oza"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_vals_in_set</span>(<span class="at">columns =</span> <span class="fu">vars</span>(ethnic), <span class="at">set =</span> <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"not hispanic"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">col_vals_between</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_mes), <span class="at">left =</span> <span class="dv">0</span>, <span class="at">right =</span> <span class="dv">3</span>, <span class="at">na_pass =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">interrogate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pointblank.PNG" class="img-fluid figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="notes">
<p>So here I am showing a very brief example of how I might set up some validation criteria using the pointblank package. And I could run this on a recurring schedule during data collection or entry to make sure everything is being collected as expected.</p>
<p>And when I run this code, I receive this report that assures me that everything is being collected as expected EXCEPT there are two variables that fail. My start_date variable is not being collected in a date format and my ethnicity variable has collected some unexpected values. And this is something that if caught early, I could go and fix in my tool. Because if I don’t fix this, I could end up with really messy data, or I might end up with data that is completely unusable if there are some values collected that I am unable to interpret.</p>
</div>
</section>
<section id="review-your-data-often-during-data-collection" class="level2">
<h2 class="anchored" data-anchor-id="review-your-data-often-during-data-collection">Review your data often during data collection</h2>
<ol start="2" type="1">
<li>Create a codebook to review univariate summary statistics
<ul>
<li><code>codebookr</code></li>
<li><code>codebook</code></li>
<li><code>memisc</code></li>
<li><code>sjPlot</code></li>
</ul></li>
</ol>
<div class="notes">
<p>A second option for reviewing your data during collection is to create a codebook. Codebooks provide descriptive variable-level information as well univariate summary statistics (such as means, ranges, counts). There are several R packages that automate the creation of codebooks.</p>
<p>But unlike validation, where we write code based on idividualized criteria, for the most part, these codebooks provide similar out of the box summary statistics that allow you to get a feel for what is going on in your data.</p>
<p>Both the validation and codebook methods provide you solid information to help you better understand if your data is being collected as expected.</p>
</div>
</section>
<section id="codebookr-codebook" class="level2">
<h2 class="anchored" data-anchor-id="codebookr-codebook"><code>codebookr</code> codebook</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Codebook</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(codebookr)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>df_codebook <span class="ot">&lt;-</span> <span class="fu">codebook</span>(df_raw)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df_codebook,<span class="st">"my_codebookr_codebook.docx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/codebook.PNG" class="img-fluid figure-img" style="width:85.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="notes">
<p>Here is one example of a codebook using the codebookr package. And if I ran that code, you can see it gives me a codebook that looks like this.</p>
<p>At the top it provides me some overarching dataset summary information and then it quickly jumps into variable-level information including summary statistics.</p>
<p>And I could once again see here that I am having issues with my start_date variable, it’s being collected as a numeric type instead of a date. And my ethnicity variable has some unexpected values. And I would want to go correct this at the source.</p>
<p>And last, the thing about codebooks is that they are even more useful when working with data that contains embedded metadata (like variable and value labels - you see in this in data that comes from programs like SPSS or Stata). When working with labelled data, those labels are displayed in the codebook. So for instance, if this was labelled data, you would see variable descriptions under each variable section, that describes what each variable represents. So for instance, under pat_id, you would see a label that says “patient unique identifier”. And that descriptive information helps me to better interpret the data. But as you can see, codebooks work fine without labels as well.</p>
</div>
</section>
</section>
<section id="data-cleaning-practices" class="level1">
<h1>Data Cleaning Practices</h1>
<div class="notes">
<p>So all of those practices we just covered are obviously done in an ideal world, where we have autonomy over how data is collected. But probably more often than not, you are handed data that you had no control over the collection/entry process.</p>
<p>Or maybe, even if you did collect our own data, despite your best efforts to collect/enter clean data, you still ended up with data that contains errors</p>
<p>For the remainder of this workshop will be working through a sample messy dataset to both identify and resolve issues to leave us with a usable tidy dataset that is ready for analysis.</p>
</div>
<section id="scenario" class="level2">
<h2 class="anchored" data-anchor-id="scenario">Scenario</h2>
<ul>
<li><p>We have data that originate from an observational study comparing 3 treatments of ulcerative colitis (UC)</p></li>
<li><p>We have an analysis question:</p>
<ul>
<li>Are there differences in change in MES and QOL scores between start and finish, and are the decreases in scores greater for any of the 3 new medications?</li>
</ul></li>
<li><p>In order to answer this question, we have asked a student to extract data from the medical record into Excel</p></li>
<li><p>Along with the spreadsheet, we are provided a data dictionary</p></li>
<li><p>As we start to review the data, we find a sundry of errors that need correction</p></li>
</ul>
</section>
<section id="open-the-data-and-the-data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="open-the-data-and-the-data-dictionary">Open the data and the data dictionary</h2>
<p><br></p>
<p>Take 1 minute to review the data dictionary and our data.</p>
<p>1 minute</p>
<div class="notes">
<p>Believe it or not, the first thing we are going to do is NOT import our data into R. We are first going to open and review the data dictionary. We want to learn about what we should expect from our data before we open it.</p>
<p>Then we are going to open the Excel file. Because there is a lot of merit to knowing what you are getting into before reading your file into R.</p>
<p>….</p>
<p>So hopefully you noticed a few things upon reviewing our data.</p>
<ol type="1">
<li><p>Our variable names are not the first row of our data. That is really important to know before we try to import our data.</p></li>
<li><p>Our data is not the first sheet of our Excel file. It’s actually the 3rd sheet over. And that’s also important to know.</p></li>
</ol>
</div>
</section>
<section id="import-our-file" class="level2">
<h2 class="anchored" data-anchor-id="import-our-file">Import our file</h2>
<ul>
<li><p>We are going to use the <code>read_excel()</code> function from the <code>readxl</code> package</p></li>
<li><p>There are several arguments to consider when using this function</p>
<ul>
<li>path</li>
<li>sheet = NULL</li>
<li>col_names = TRUE</li>
<li>na = ” ”</li>
<li>skip = 0</li>
</ul></li>
<li><p>type <code>?read_excel</code> in your console to see more arguments</p></li>
</ul>
<div class="notes">
<ul>
<li>list the path to our xls or xlsx file</li>
<li>we can add the name or position of the sheet to read in</li>
<li>should R grab column names from the first row in your data?</li>
<li>are there any values that R should read in as NA?</li>
<li>what is the minimum number of rows R should skip before reading anything?</li>
</ul>
</div>
</section>
<section id="import-our-file-1" class="level2">
<h2 class="anchored" data-anchor-id="import-our-file-1">Import our file</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>df_raw <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/messy_uc.xlsx"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Data"</span>, <span class="at">skip =</span> <span class="dv">5</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readxl' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
* `` -&gt; `...7`</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="skxztilvyg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#skxztilvyg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#skxztilvyg thead, #skxztilvyg tbody, #skxztilvyg tfoot, #skxztilvyg tr, #skxztilvyg td, #skxztilvyg th {
  border-style: none;
}

#skxztilvyg p {
  margin: 0;
  padding: 0;
}

#skxztilvyg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#skxztilvyg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#skxztilvyg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#skxztilvyg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#skxztilvyg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skxztilvyg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skxztilvyg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skxztilvyg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#skxztilvyg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#skxztilvyg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#skxztilvyg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#skxztilvyg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#skxztilvyg .gt_spanner_row {
  border-bottom-style: hidden;
}

#skxztilvyg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#skxztilvyg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#skxztilvyg .gt_from_md > :first-child {
  margin-top: 0;
}

#skxztilvyg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#skxztilvyg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#skxztilvyg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#skxztilvyg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#skxztilvyg .gt_row_group_first td {
  border-top-width: 2px;
}

#skxztilvyg .gt_row_group_first th {
  border-top-width: 2px;
}

#skxztilvyg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skxztilvyg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#skxztilvyg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#skxztilvyg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skxztilvyg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skxztilvyg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#skxztilvyg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#skxztilvyg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#skxztilvyg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skxztilvyg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skxztilvyg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#skxztilvyg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skxztilvyg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#skxztilvyg .gt_left {
  text-align: left;
}

#skxztilvyg .gt_center {
  text-align: center;
}

#skxztilvyg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#skxztilvyg .gt_font_normal {
  font-weight: normal;
}

#skxztilvyg .gt_font_bold {
  font-weight: bold;
}

#skxztilvyg .gt_font_italic {
  font-style: italic;
}

#skxztilvyg .gt_super {
  font-size: 65%;
}

#skxztilvyg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#skxztilvyg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#skxztilvyg .gt_indent_1 {
  text-indent: 5px;
}

#skxztilvyg .gt_indent_2 {
  text-indent: 10px;
}

#skxztilvyg .gt_indent_3 {
  text-indent: 15px;
}

#skxztilvyg .gt_indent_4 {
  text-indent: 20px;
}

#skxztilvyg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pat_id">pat_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="treatment">treatment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="start_date">start_date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ethnic">ethnic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="race">race</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dob">dob</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="pat_id" class="gt_row gt_right">001</td>
<td headers="treatment" class="gt_row gt_left">upa</td>
<td headers="start_date" class="gt_row gt_right">44208</td>
<td headers="ethnic" class="gt_row gt_left">hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">2005-01-07</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">002</td>
<td headers="treatment" class="gt_row gt_left">uste</td>
<td headers="start_date" class="gt_row gt_right">44215</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1937-04-13</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">003</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44230</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">African-American</td>
<td headers="dob" class="gt_row gt_right">1946-06-06</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">004</td>
<td headers="treatment" class="gt_row gt_left">upa</td>
<td headers="start_date" class="gt_row gt_right">44245</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1963-07-14</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">005</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44255</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Mixed</td>
<td headers="dob" class="gt_row gt_right">1978-05-12</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="your-turn-read-in-the-data" class="level2">
<h2 class="anchored" data-anchor-id="your-turn-read-in-the-data">Your turn! Read in the data</h2>
<p>Read the data in</p>
<p><strong>3 minutes</strong></p>
</section>
<section id="review-the-data" class="level2">
<h2 class="anchored" data-anchor-id="review-the-data">Review the data</h2>
<blockquote class="blockquote">
<p>EDA is not a formal process with a strict set of rules. More than anything, EDA is a state of mind. During the initial phases of EDA you should feel free to investigate every idea that occurs to you. <em>- R for Data Science</em></p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://media.giphy.com/media/lXu72d4iKwqek/giphy.gif" class="img-fluid figure-img" style="width:80.0%"></p>
</figure>
</div>
<div class="footer">
<p>Image from giphy.com</p>
</div>
<div class="notes">
<p>To quote the authors of R 4 Data Science</p>
<p>So what does this mean? It means there is no one prescriptive way to review your data. There are endless possibilities to figure out if there are errors in your data. Try any ideas you can think of. But there are some common steps you can at least start with.</p>
</div>
</section>
<section id="review-the-data-1" class="level2">
<h2 class="anchored" data-anchor-id="review-the-data-1">Review the data</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>It is important to get to know your data</p>
<ul>
<li>How many rows? How many columns?</li>
<li>What are the variable types?</li>
<li>What are variable values?</li>
<li>How much missing data is there?</li>
<li>How are variables related?</li>
</ul>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:50%;">
<p>There are several functions that can be used to explore data.</p>
<ul>
<li><code>dplyr::glimpse()</code></li>
<li><code>skimr::skim()</code></li>
<li><code>base::summary()</code></li>
<li><code>summarytools::dfSummary()</code></li>
<li><code>visdat:vis_dat()</code></li>
<li><code>DataExplorer::create_report()</code></li>
</ul>
</div>
</div>
<div class="notes">
<p>So after you read your data into R, once again, use the old fashioned method of opening up your data and looking at it to see if everything imported as you expected.</p>
<p>After that, you can start to run some functions to review your data for the following things.</p>
<ol start="3" type="1">
<li><p>Are the values within your expected ranges? What outliers do you see? Is there a lack of variation? All values are equal to the same number?</p></li>
<li><p>Consider bivariate plots, is one variable high and the other low - is that normal</p></li>
</ol>
</div>
</section>
<section id="summarytoolsdfsummary" class="level2">
<h2 class="anchored" data-anchor-id="summarytoolsdfsummary"><code>summarytools::dfSummary()</code></h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">dfSummary</span>(df_raw))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>So this function provides some overall summary information (number of rows and columns) as well as variable level summary information including variable type, values, frequencies, and histograms.</p>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p><img src="images/exploratory1.PNG" class="img-fluid" style="width:50.0%"><img src="images/exploratory2.PNG" class="img-fluid" style="width:50.0%"></p>
</div>
</div>
</div>
</section>
<section id="skimrskim" class="level2">
<h2 class="anchored" data-anchor-id="skimrskim"><code>skimr::skim()</code></h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(df_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p><img src="images/skimr.PNG" class="img-fluid" style="width:90.0%"></p>
</div>
</div>
</div>
<div class="notes">
<p>So this function provides similar information to dfSummary, just formatted differently. It also provides some overall data summary information (number of rows and columns) as well as variable level summary information including variable type, completion rate, values, percentiles, and histograms.</p>
<p>But a quick word of caution about this funciton. You’ll notice that it provides some misleading information for character variables. It gives a min and max value. This is actually the min and max character count for each variable.</p>
</div>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn!</h2>
<p>Use one or more of these exploratory packages to review your data. Based on your data and your data dictionary, what fixes do you see that need to happen?</p>
<ul>
<li><code>dplyr::glimpse()</code></li>
<li><code>skimr::skim()</code></li>
<li><code>base::summary()</code></li>
<li><code>summarytools::dfSummary()</code></li>
<li><code>visdat:vis_dat()</code></li>
<li><code>DataExplorer::create_report()</code></li>
</ul>
<p><strong>5 minutes</strong></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>